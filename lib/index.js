!function(e,r){if("object"===typeof exports&&"object"===typeof module)module.exports=r();else if("function"===typeof define&&define.amd)define([],r);else{var n=r();for(var t in n)("object"===typeof exports?exports:e)[t]=n[t]}}(self,(function(){return function(){"use strict";var e={748:function(e,r,n){n.d(r,{h:function(){return i}});var t=n(374),i={"Form.Item":t.Form.Item,"Form.List":t.Form.List,"List.Item":t.ListItem}},994:function(e,r,n){n.d(r,{H:function(){return oe}});var t=require("@babel/runtime-corejs3/core-js/reflect/construct"),i=n.n(t),o=require("@babel/runtime-corejs3/helpers/classCallCheck"),u=n.n(o),l=require("@babel/runtime-corejs3/helpers/createClass"),a=n.n(l),c=require("@babel/runtime-corejs3/helpers/assertThisInitialized"),s=n.n(c),d=require("@babel/runtime-corejs3/helpers/inherits"),f=n.n(d),v=require("@babel/runtime-corejs3/helpers/possibleConstructorReturn"),p=n.n(v),m=require("@babel/runtime-corejs3/helpers/getPrototypeOf"),b=n.n(m),h=require("@babel/runtime-corejs3/core-js/instance/bind"),j=n.n(h),y=n(299),g=n.n(y),P=require("klona"),x=n(374),q=n(706),F=n.n(q),w=n(829),C=n.n(w),O=n(739),L=n.n(O),I=n(43),k=n.n(I),E=n(610),S=n.n(E),R=n(998),V=n.n(R),A=n(768),B=n.n(A),T=n(93),Z=n.n(T),M=require("@babel/runtime-corejs3/core-js/instance/splice"),_=n.n(M),G=n(615),H=n.n(G),W=n(623),z=n.n(W);function $(e,r){var n=H()(e);if(F()){var t=F()(e);r&&(t=C()(t).call(t,(function(r){return L()(e,r).enumerable}))),n.push.apply(n,t)}return n}function D(e){for(var r=1;r<arguments.length;r++){var n,t,i=null!=arguments[r]?arguments[r]:{};r%2?g()(n=$(Object(i),!0)).call(n,(function(r){Z()(e,r,i[r])})):k()?S()(e,k()(i)):g()(t=$(Object(i))).call(t,(function(r){V()(e,r,L()(i,r))}))}return e}var J=function(e){return e?(0,x.pathToArr)(e):[]},K=function(e,r,n){var t,i=J(r),o=i.pop(),u=null===i||void 0===i?void 0:i.length,l=e;if(g()(i).call(i,(function(e,r){var n,t,i=(0,x.handleListPath)(e);0===r?l=l[i]:l=null===(n=l)||void 0===n||null===(t=n.properties)||void 0===t?void 0:t[i]})),l=0===u?l:null===(t=l)||void 0===t?void 0:t.properties,o)if(void 0===n)if(l instanceof Array){var a,c=+o;null===(a=l)||void 0===a||_()(a).call(a,c,1)}else delete l[o];else{var s=l[o];l[o]=D(D({},s),n)}return e},N=function(e,r,n){var t,i=J(r),o=i.pop(),u=null===i||void 0===i?void 0:i.length,l=e;if(g()(i).call(i,(function(e,r){var n,t,i=(0,x.handleListPath)(e);0===r?l=l[i]:l=null===(n=l)||void 0===n||null===(t=n.properties)||void 0===t?void 0:t[i]})),l=0===u?l:null===(t=l)||void 0===t?void 0:t.properties,o)if(void 0===n)if(l instanceof Array){var a,c=+o;null===(a=l)||void 0===a||_()(a).call(a,c,1)}else delete l[o];else if(!l[o]&&l instanceof Array){var s=+o;_()(l).call(l,s,0,n)}else l[o]=n;return e},Q=function(e,r){var n=J(r),t=e;return 0===n.length||g()(n).call(n,(function(e,r){var n,i,o=(0,x.handleListPath)(e);0===r?t=t[o]:t=null===(n=t)||void 0===n||null===(i=n.properties)||void 0===i?void 0:i[o]})),t},U=function(e){if(e){if(e instanceof Array)return"array";if("object"===B()(e))return"object"}},X=function(e,r){var n=null===r||void 0===r?void 0:r.properties;return D(D({name:e},r),{},{propertiesType:U(n),properties:n&&Y(n)})},Y=function(e){var r=[];if("object"===B()(e))for(var n in e){var t=e[n],i=X(n,t);r.push(i)}return r},ee=function e(r,n){var t="array"===n?[]:{};if("object"===B()(r)){for(var i in r){var o=r[i],u="array"===n?i:null===o||void 0===o?void 0:o.name;if(o.name=u,"string"===typeof u){t[u]=o;var l=null===o||void 0===o?void 0:o.properties,a=null===o||void 0===o?void 0:o.propertiesType;l&&(t[u].properties=e(l,a)),delete o.propertiesType}}return t}},re=function(e,r,n,t){var i=Q(e,t),o=t?null===i||void 0===i?void 0:i.properties:i,u=Y(o),l=X(null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.field);"number"===typeof n?null===u||void 0===u||_()(u).call(u,n,0,l):null===u||void 0===u||u.push(l);var a=U(o),c=ee(u,a);return t?(i.properties=c,e):c},ne=function(e,r,n){var t=null===r||void 0===r?void 0:r.parentPath,i=null===r||void 0===r?void 0:r.index,o=null===n||void 0===n?void 0:n.parentPath,u=null===n||void 0===n?void 0:n.index;if(t===o){var l=Q(e,t),a=t?null===l||void 0===l?void 0:l.properties:l,c=Y(a),s=function(e,r,n){var t=(0,P.klona)(e);return r>n?(_()(t).call(t,n,0,e[r]),_()(t).call(t,r+1,1)):r<n&&(_()(t).call(t,n+1,0,e[r]),_()(t).call(t,r,1)),t}(c,i,u="number"===typeof u?u:null===c||void 0===c?void 0:c.length),d=U(a),f=ee(s,d);return t?(l.properties=f,e):f}},te=function(e,r,n){var t,i=null===r||void 0===r?void 0:r.parentPath,o=null===r||void 0===r?void 0:r.index,u=J(i),l=function(e,r,n){var t=Q(e,n),i=n?null===t||void 0===t?void 0:t.properties:t,o=H()(i)[r];return{name:o,field:i[o]}}(e,o,i),a=i?z()(t="".concat(i,".")).call(t,null===l||void 0===l?void 0:l.name):null===l||void 0===l?void 0:l.name,c=null===n||void 0===n?void 0:n.parentPath,s=null===n||void 0===n?void 0:n.index,d=J(c);if((null===u||void 0===u?void 0:u.length)>(null===d||void 0===d?void 0:d.length)||null===d||void 0===d||!d.length)return N(e,a,void 0),re(e,l,s,c);var f=re(e,l,s,c);return f&&N(f,a,void 0),f};function ie(e){var r=function(){if("undefined"===typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=b()(e);if(r){var o=b()(this).constructor;n=i()(t,arguments,o)}else n=t.apply(this,arguments);return p()(this,n)}}var oe=function(e){f()(n,e);var r=ie(n);function n(){var e,t,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(i=r.call(this,o)).properties=void 0,i.lastProperties=void 0,i.propertiesListeners=[],i.updateItemByPath=function(e,r){var n=i.getProperties();if(n){var t=K(n,e,r);i.setProperties(t)}},i.setItemByPath=function(e,r){var n=i.getProperties();if(n){var t=N(n,e,r);i.setProperties(t)}},i.addItemByIndex=function(e,r,n){var t=i.getProperties();if(t){var o=re(t,e,r,n);i.setProperties(o)}},i.delItemByPath=function(e){var r=i.getProperties();if(r){var n=N(r,e,void 0);i.setProperties(n)}},i.getItemByPath=function(e){var r=i.getProperties();if(r)return Q(r,e)},i.swapItemByPath=function(e,r){var n,t=i.getProperties();t&&(n=(null===e||void 0===e?void 0:e.parentPath)===(null===r||void 0===r?void 0:r.parentPath)?ne(t,e,r):te(t,e,r),i.setProperties(n))},i.properties=void 0,i.lastProperties=void 0,i.getProperties=j()(e=i.getProperties).call(e,s()(i)),i.setProperties=j()(t=i.setProperties).call(t,s()(i)),i}return a()(n,[{key:"getProperties",value:function(){return this.properties}},{key:"setProperties",value:function(e){this.lastProperties=(0,P.klona)(this.properties),this.properties=(0,P.klona)(e),this.notifyProperties()}},{key:"subscribeProperties",value:function(e){var r=this;return this.propertiesListeners.push(e),function(){r.propertiesListeners=[]}}},{key:"notifyProperties",value:function(){var e,r=this;g()(e=this.propertiesListeners).call(e,(function(e){e&&e(r.properties,r.lastProperties)}))}}]),n}(x.FormStore)},150:function(e,r,n){n.d(r,{Z:function(){return Y}});var t=n(615),i=n.n(t),o=n(706),u=n.n(o),l=n(829),a=n.n(l),c=n(739),s=n.n(c),d=n(299),f=n.n(d),v=n(43),p=n.n(v),m=n(610),b=n.n(m),h=n(998),j=n.n(h),y=n(579),g=n.n(y),P=n(250),x=n.n(P),q=n(768),F=n.n(q),w=n(93),C=n.n(w),O=require("@babel/runtime-corejs3/helpers/slicedToArray"),L=n.n(O),I=require("@babel/runtime-corejs3/core-js/map"),k=n.n(I),E=require("@babel/runtime-corejs3/core-js/json/stringify"),S=n.n(E),R=require("@babel/runtime-corejs3/core-js/object/entries"),V=n.n(R),A=require("@babel/runtime-corejs3/core-js/instance/map"),B=n.n(A),T=n(623),Z=n.n(T),M=require("@babel/runtime-corejs3/core-js/object/from-entries"),_=n.n(M),G=n(689),H=n.n(G),W=n(748),z=n(374),$=require("@babel/runtime-corejs3/core-js/object/get-own-property-names"),D=n.n($);function J(e,r){if("object"!=F()(e)||"object"!==F()(r))return e===r;var n=D()(e),t=D()(r);if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++){var o=n[i],u=e[o],l=r[o];if("object"===F()(u)){if(!J(u,l))return!1}else if(u!==l)return!1}return!0}require("react-easy-formcore/lib/css/main.css");var K=["readOnly","readOnlyWidget","readOnlyRender","hidden","widgetProps","widget","properties"],N=["children"],Q=["rules","initialValue"];function U(e,r){var n=i()(e);if(u()){var t=u()(e);r&&(t=a()(t).call(t,(function(r){return s()(e,r).enumerable}))),n.push.apply(n,t)}return n}function X(e){for(var r=1;r<arguments.length;r++){var n,t,i=null!=arguments[r]?arguments[r]:{};r%2?f()(n=U(Object(i),!0)).call(n,(function(r){C()(e,r,i[r])})):p()?b()(e,p()(i)):f()(t=U(Object(i))).call(t,(function(r){j()(e,r,s()(i,r))}))}return e}function Y(e){var r=(0,G.useContext)(z.FormStoreContext),n=(0,G.useContext)(z.FormOptionsContext),t=(0,G.useState)(new(k())),i=L()(t,2),o=i[0],u=i[1],l=(0,G.useState)({}),a=L()(l,2),c=a[0],s=a[1],d=(0,G.useRef)(!0),f=e.Fields,v=e.widgets,p=e.watch,m=e.onPropertiesChange,b=e.customList,h=e.customChild,j=X(X({},W.h),f),y=n.onValuesChange,P=function(e){y&&y(e),w()};(0,G.useEffect)((function(){if(r){var e=r.subscribeProperties((function(e,r){s(e),d.current||J(e,r)||m&&m(e,r)}));return function(){e()}}}),[]),(0,G.useEffect)((function(){r&&null!==e&&void 0!==e&&e.properties&&(r.setProperties(null===e||void 0===e?void 0:e.properties),d.current=!1)}),[S()(null===e||void 0===e?void 0:e.properties)]),(0,G.useEffect)((function(){if(c)return w(),q(),function(){null===r||void 0===r||r.unsubscribeFormGlobal()}}),[S()(c)]);var q=function(){var e;null===(e=V()(p||{}))||void 0===e||B()(e).call(e,(function(e){var n=L()(e,2),t=n[0],i=n[1];"function"===typeof i?null===r||void 0===r||r.subscribeFormGlobal(t,i):"object"===F()(i)&&("function"===typeof i.handler&&(null===r||void 0===r||r.subscribeFormGlobal(t,i.handler)),i.immediate&&i.handler(null===r||void 0===r?void 0:r.getFieldValue(t),null===r||void 0===r?void 0:r.getLastValue(t)))}))},w=function(){var e=new(k()),r=function r(n,t){for(var i in n){var o=n[i];if("properties"!==i){var u,l=t?Z()(u="".concat(t,".")).call(u,i):i,a=C(o);e.set(l,a)}else if(o instanceof Array)for(var c=0;c<(null===o||void 0===o?void 0:o.length);c++){var s;r(o[c],Z()(s="".concat(t,".")).call(s,c))}else for(var d in o){var f;r(o[d],Z()(f="".concat(t,".")).call(f,d))}}};for(var n in c){r(c[n],n)}u(e)},C=function(e){if("string"===typeof e){var n,t=new RegExp("{{s*.*?s*}}","gi"),i=null===e||void 0===e||null===(n=e.match(t))||void 0===n?void 0:n[0];if(i){var o,u=null===i||void 0===i?void 0:i.replace(/\{\{|\}\}|\s*/g,"");return u=null===(o=u)||void 0===o?void 0:o.replace(/\$form/g,"store && store.getFieldValue()"),new Function("store","return "+u)(r)}return e}return e},O=function e(r){return r instanceof Array?null===r||void 0===r?void 0:B()(r).call(r,(function(r){var n=r.widget,t=r.widgetProps,i=null===v||void 0===v?void 0:v[n];if(i)return H().createElement(i,x()({},t,{children:e(null===t||void 0===t?void 0:t.children)}))})):r},I=function(e,r){var n=h;return n?H().createElement(n,x()({"data-type":"fragment"},r),e):e},E=function(e,r,n){var t;if(b)return b(e,r,n);var i=(n||{}).path;return null===(t=V()(e||{}))||void 0===t?void 0:B()(t).call(t,(function(e,n){var t=L()(e,2),o=t[0],u=t[1];return r({name:o,field:u,path:i,index:n})}))};return E(c,(function e(n){var t=n||{},i=t.name,u=t.field,l=t.path,a=t.index,c=function(e,r){return void 0===e?e:(0,z.isListItem)(e)?r?Z()(n="".concat(r)).call(n,e):e:r?Z()(t="".concat(r,".")).call(t,e):e;var n,t}(i,l),s=function(e,r){var n;return _()(null===(n=V()(e||{}))||void 0===n?void 0:B()(n).call(n,(function(n){var t,i,u=L()(n,1)[0],l=r?Z()(t="".concat(r,".")).call(t,u):u;return[u,null!==(i=o.get(l))&&void 0!==i?i:e[u]]})))}(u,c),d=s.readOnly,f=s.readOnlyWidget,p=s.readOnlyRender,m=(s.hidden,s.widgetProps),b=s.widget,h=s.properties,y=g()(s,K),q=function(e,r){return e?"List.Item":r instanceof Array?"Form.List":"Form.Item"}(d,h),w=j[q],C=b&&(null===v||void 0===v?void 0:v[b]);if(!0!==o.get("".concat(c,".hidden"))&&w&&s){var k=m||{},S=k.children,R=g()(k,N),A=null===r||void 0===r?void 0:r.getFieldValue(),T=X(X(X({},n),R),{},{formvalues:A,store:r});if(!0===d){var M=f&&(null===v||void 0===v?void 0:v[f]),G=(y.rules,y.initialValue,g()(y,Q)),W=null!==p&&void 0!==p?p:void 0!==M&&H().createElement(M,T);return H().createElement(w,x()({key:i},"Form.Item"===q?y:G),I(W,{name:i,field:s,path:l,index:a}))}if("object"===F()(h))return H().createElement(w,x()({key:i},y,{name:i,onValuesChange:P}),E(h,e,{name:i,path:c,field:s,index:a}));var $=C?H().createElement(C,T,O(S)):null;return H().createElement(w,x()({key:i},y,{name:i,onValuesChange:P}),I($,{name:i,field:s,path:l,index:a}))}}))}},455:function(e,r,n){n.d(r,{Z:function(){return R}});var t=n(615),i=n.n(t),o=n(706),u=n.n(o),l=n(829),a=n.n(l),c=n(739),s=n.n(c),d=n(299),f=n.n(d),v=n(43),p=n.n(v),m=n(610),b=n.n(m),h=n(998),j=n.n(h),y=n(250),g=n.n(y),P=n(93),x=n.n(P),q=n(579),F=n.n(q),w=n(689),C=n.n(w),O=n(374),L=n(150),I=["store","schema","watch","widgets","Fields","children","onPropertiesChange","customList","customChild"],k=["properties"];function E(e,r){var n=i()(e);if(u()){var t=u()(e);r&&(t=a()(t).call(t,(function(r){return s()(e,r).enumerable}))),n.push.apply(n,t)}return n}function S(e){for(var r=1;r<arguments.length;r++){var n,t,i=null!=arguments[r]?arguments[r]:{};r%2?f()(n=E(Object(i),!0)).call(n,(function(r){x()(e,r,i[r])})):p()?b()(e,p()(i)):f()(t=E(Object(i))).call(t,(function(r){j()(e,r,s()(i,r))}))}return e}function R(e){var r=e.store,n=e.schema,t=e.watch,i=e.widgets,o=e.Fields,u=(e.children,e.onPropertiesChange),l=e.customList,a=e.customChild,c=F()(e,I),s=n.properties,d=F()(n,k),f=S(S({},c),d);return C().createElement(O.Form,g()({store:r},f),C().createElement(L.Z,{customChild:a,customList:l,onPropertiesChange:u,properties:s,watch:t,widgets:i,Fields:o}))}},635:function(e,r,n){n.d(r,{V:function(){return o}});var t=n(689),i=n(994);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.useMemo)((function(){return new i.H(e)}),[])}},623:function(e){e.exports=require("@babel/runtime-corejs3/core-js/instance/concat")},829:function(e){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},299:function(e){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},610:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/define-properties")},998:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/define-property")},739:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},43:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},706:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},615:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},93:function(e){e.exports=require("@babel/runtime-corejs3/helpers/defineProperty")},250:function(e){e.exports=require("@babel/runtime-corejs3/helpers/extends")},579:function(e){e.exports=require("@babel/runtime-corejs3/helpers/objectWithoutProperties")},768:function(e){e.exports=require("@babel/runtime-corejs3/helpers/typeof")},689:function(e){e.exports=require("react")},374:function(e){e.exports=require("react-easy-formcore")}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,{a:r}),r},n.d=function(e,r){for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};return function(){n.r(t),n.d(t,{FormRenderStore:function(){return o.H},RenderFormChildren:function(){return r.Z},defaultFields:function(){return i.h},useFormRenderStore:function(){return u.V}});var e=n(455),r=n(150),i=n(748),o=n(994),u=n(635),l=n(374),a={};for(var c in l)["default","RenderFormChildren","defaultFields","FormRenderStore","useFormRenderStore"].indexOf(c)<0&&(a[c]=function(e){return l[e]}.bind(0,c));n.d(t,a),t.default=e.Z}(),t}()}));