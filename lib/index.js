!function(e,r){if("object"===typeof exports&&"object"===typeof module)module.exports=r();else if("function"===typeof define&&define.amd)define([],r);else{var n=r();for(var t in n)("object"===typeof exports?exports:e)[t]=n[t]}}(self,(function(){return function(){"use strict";var e={748:function(e,r,n){n.d(r,{h:function(){return i}});var t=n(374),i={"Form.Item":t.Form.Item,"Form.List":t.Form.List,"List.Item":t.ListItem}},113:function(e,r,n){n.d(r,{H:function(){return oe}});var t=require("@babel/runtime-corejs3/core-js/reflect/construct"),i=n.n(t),o=n(349),u=n.n(o),l=n(606),a=n.n(l),c=require("@babel/runtime-corejs3/helpers/assertThisInitialized"),s=n.n(c),f=require("@babel/runtime-corejs3/helpers/inherits"),d=n.n(f),v=require("@babel/runtime-corejs3/helpers/possibleConstructorReturn"),p=n.n(v),b=require("@babel/runtime-corejs3/helpers/getPrototypeOf"),h=n.n(b),m=require("@babel/runtime-corejs3/core-js/instance/bind"),y=n.n(m),j=n(299),g=n.n(j),P=require("klona"),F=n(374),x=n(706),q=n.n(x),w=n(829),O=n.n(w),C=n(739),k=n.n(C),I=n(43),R=n.n(I),L=n(610),A=n.n(L),S=n(998),E=n.n(S),V=n(768),B=n.n(V),T=n(93),Z=n.n(T),M=require("@babel/runtime-corejs3/core-js/instance/splice"),_=n.n(M),G=n(615),H=n.n(G),W=n(623),z=n.n(W);function $(e,r){var n=H()(e);if(q()){var t=q()(e);r&&(t=O()(t).call(t,(function(r){return k()(e,r).enumerable}))),n.push.apply(n,t)}return n}function D(e){for(var r=1;r<arguments.length;r++){var n,t,i=null!=arguments[r]?arguments[r]:{};r%2?g()(n=$(Object(i),!0)).call(n,(function(r){Z()(e,r,i[r])})):R()?A()(e,R()(i)):g()(t=$(Object(i))).call(t,(function(r){E()(e,r,k()(i,r))}))}return e}var J=function(e){return e?(0,F.pathToArr)(e):[]},K=function(e,r,n){var t,i=J(r),o=i.pop(),u=null===i||void 0===i?void 0:i.length,l=e;if(g()(i).call(i,(function(e,r){var n,t,i=(0,F.handleListPath)(e);0===r?l=l[i]:l=null===(n=l)||void 0===n||null===(t=n.properties)||void 0===t?void 0:t[i]})),l=0===u?l:null===(t=l)||void 0===t?void 0:t.properties,o)if(void 0===n)if(l instanceof Array){var a,c=+o;null===(a=l)||void 0===a||_()(a).call(a,c,1)}else delete l[o];else{var s=l[o];l[o]=D(D({},s),n)}return e},N=function(e,r,n){var t,i=J(r),o=i.pop(),u=null===i||void 0===i?void 0:i.length,l=e;if(g()(i).call(i,(function(e,r){var n,t,i=(0,F.handleListPath)(e);0===r?l=l[i]:l=null===(n=l)||void 0===n||null===(t=n.properties)||void 0===t?void 0:t[i]})),l=0===u?l:null===(t=l)||void 0===t?void 0:t.properties,o)if(void 0===n)if(l instanceof Array){var a,c=+o;null===(a=l)||void 0===a||_()(a).call(a,c,1)}else delete l[o];else if(!l[o]&&l instanceof Array){var s=+o;_()(l).call(l,s,0,n)}else l[o]=n;return e},Q=function(e,r){var n=J(r),t=e;return 0===n.length||g()(n).call(n,(function(e,r){var n,i,o=(0,F.handleListPath)(e);0===r?t=t[o]:t=null===(n=t)||void 0===n||null===(i=n.properties)||void 0===i?void 0:i[o]})),t},U=function(e){if(e){if(e instanceof Array)return"array";if("object"===B()(e))return"object"}},X=function(e,r){var n=null===r||void 0===r?void 0:r.properties;return D(D({name:e},r),{},{propertiesType:U(n),properties:n&&Y(n)})},Y=function(e){var r=[];if("object"===B()(e))for(var n in e){var t=e[n],i=X(n,t);r.push(i)}return r},ee=function e(r,n){var t="array"===n?[]:{};if("object"===B()(r)){for(var i in r){var o=r[i],u="array"===n?i:null===o||void 0===o?void 0:o.name;if(o.name=u,"string"===typeof u){t[u]=o;var l=null===o||void 0===o?void 0:o.properties,a=null===o||void 0===o?void 0:o.propertiesType;l&&(t[u].properties=e(l,a)),delete o.propertiesType}}return t}},re=function(e,r,n,t){var i=Q(e,t),o=t?null===i||void 0===i?void 0:i.properties:i,u=Y(o),l=X(null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.field);"number"===typeof n?null===u||void 0===u||_()(u).call(u,n,0,l):null===u||void 0===u||u.push(l);var a=U(o),c=ee(u,a);return t?(i.properties=c,e):c},ne=function(e,r,n){var t=null===r||void 0===r?void 0:r.parentPath,i=null===r||void 0===r?void 0:r.index,o=null===n||void 0===n?void 0:n.parentPath,u=null===n||void 0===n?void 0:n.index;if(t===o){var l=Q(e,t),a=t?null===l||void 0===l?void 0:l.properties:l,c=Y(a),s=function(e,r,n){var t=(0,P.klona)(e);return r>n?(_()(t).call(t,n,0,e[r]),_()(t).call(t,r+1,1)):r<n&&(_()(t).call(t,n+1,0,e[r]),_()(t).call(t,r,1)),t}(c,i,u="number"===typeof u?u:null===c||void 0===c?void 0:c.length),f=U(a),d=ee(s,f);return t?(l.properties=d,e):d}},te=function(e,r,n){var t,i=null===r||void 0===r?void 0:r.parentPath,o=null===r||void 0===r?void 0:r.index,u=J(i),l=function(e,r,n){var t=Q(e,n),i=n?null===t||void 0===t?void 0:t.properties:t,o=H()(i)[r];return{name:o,field:i[o]}}(e,o,i),a=i?z()(t="".concat(i,".")).call(t,null===l||void 0===l?void 0:l.name):null===l||void 0===l?void 0:l.name,c=null===n||void 0===n?void 0:n.parentPath,s=null===n||void 0===n?void 0:n.index,f=J(c);if((null===u||void 0===u?void 0:u.length)>(null===f||void 0===f?void 0:f.length)||null===f||void 0===f||!f.length)return N(e,a,void 0),re(e,l,s,c);var d=re(e,l,s,c);return d&&N(d,a,void 0),d};function ie(e){var r=function(){if("undefined"===typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=h()(e);if(r){var o=h()(this).constructor;n=i()(t,arguments,o)}else n=t.apply(this,arguments);return p()(this,n)}}var oe=function(e){d()(n,e);var r=ie(n);function n(){var e,t,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(i=r.call(this,o)).properties=void 0,i.lastProperties=void 0,i.propertiesListeners=[],i.updateItemByPath=function(e,r){var n=i.getProperties();if(n){var t=K(n,e,r);i.setProperties(t)}},i.setItemByPath=function(e,r){var n=i.getProperties();if(n){var t=N(n,e,r);i.setProperties(t)}},i.addItemByIndex=function(e,r,n){var t=i.getProperties();if(t){var o=re(t,e,r,n);i.setProperties(o)}},i.delItemByPath=function(e){var r=i.getProperties();if(r){var n=N(r,e,void 0);i.setProperties(n)}},i.getItemByPath=function(e){var r=i.getProperties();if(r)return Q(r,e)},i.swapItemByPath=function(e,r){var n,t=i.getProperties();t&&(n=(null===e||void 0===e?void 0:e.parentPath)===(null===r||void 0===r?void 0:r.parentPath)?ne(t,e,r):te(t,e,r),i.setProperties(n))},i.properties=void 0,i.lastProperties=void 0,i.getProperties=y()(e=i.getProperties).call(e,s()(i)),i.setProperties=y()(t=i.setProperties).call(t,s()(i)),i}return a()(n,[{key:"getProperties",value:function(){return this.properties}},{key:"setProperties",value:function(e){this.lastProperties=(0,P.klona)(this.properties),this.properties=(0,P.klona)(e),this.notifyProperties()}},{key:"subscribeProperties",value:function(e){var r=this;return this.propertiesListeners.push(e),function(){r.propertiesListeners=[]}}},{key:"notifyProperties",value:function(){var e,r=this;g()(e=this.propertiesListeners).call(e,(function(e){e&&e(r.properties,r.lastProperties)}))}}]),n}(F.FormStore)},685:function(e,r,n){n.d(r,{Z:function(){return ie}});var t=n(615),i=n.n(t),o=n(706),u=n.n(o),l=n(829),a=n.n(l),c=n(739),s=n.n(c),f=n(299),d=n.n(f),v=n(43),p=n.n(v),b=n(610),h=n.n(b),m=n(998),y=n.n(m),j=n(579),g=n.n(j),P=n(250),F=n.n(P),x=n(768),q=n.n(x),w=n(93),O=n.n(w),C=require("@babel/runtime-corejs3/helpers/slicedToArray"),k=n.n(C),I=require("@babel/runtime-corejs3/core-js/map"),R=n.n(I),L=require("@babel/runtime-corejs3/core-js/json/stringify"),A=n.n(L),S=require("@babel/runtime-corejs3/core-js/object/entries"),E=n.n(S),V=require("@babel/runtime-corejs3/core-js/instance/map"),B=n.n(V),T=n(623),Z=n.n(T),M=require("@babel/runtime-corejs3/core-js/object/from-entries"),_=n.n(M),G=n(689),H=n.n(G),W=n(748),z=n(349),$=n.n(z),D=n(606),J=n.n(D),K=function(){function e(r){$()(this,e),this.originFun=void 0,this.beforeFun=void 0,this.afterFun=void 0,this.originFun=this.init(r)}return J()(e,[{key:"init",value:function(e){var r=this;return function(){for(var n,t,i,o,u=arguments.length,l=new Array(u),a=0;a<u;a++)l[a]=arguments[a];var c=null===(n=r.beforeFun)||void 0===n?void 0:n.call.apply(n,Z()(t=[r]).call(t,l));if("boolean"!==typeof c||c){var s=null===e||void 0===e?void 0:e.apply(void 0,l);return null===(i=r.afterFun)||void 0===i||i.call.apply(i,Z()(o=[r]).call(o,l)),s}}}},{key:"addBefore",value:function(e){return"function"===typeof e&&(this.beforeFun=e),this.originFun}},{key:"addAfter",value:function(e){return"function"===typeof e&&(this.afterFun=e),this.originFun}}]),e}(),N=n(374),Q=require("@babel/runtime-corejs3/core-js/object/get-own-property-names"),U=n.n(Q);function X(e,r){if("object"!=q()(e)||"object"!==q()(r))return e===r;var n=U()(e),t=U()(r);if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++){var o=n[i],u=e[o],l=r[o];if("object"===q()(u)){if(!X(u,l))return!1}else if(u!==l)return!1}return!0}require("react-easy-formcore/lib/css/main.css");var Y=["readOnly","readOnlyWidget","readOnlyRender","hidden","widgetProps","widget","properties"],ee=["children"],re=["rules","initialValue"];function ne(e,r){var n=i()(e);if(u()){var t=u()(e);r&&(t=a()(t).call(t,(function(r){return s()(e,r).enumerable}))),n.push.apply(n,t)}return n}function te(e){for(var r=1;r<arguments.length;r++){var n,t,i=null!=arguments[r]?arguments[r]:{};r%2?d()(n=ne(Object(i),!0)).call(n,(function(r){O()(e,r,i[r])})):p()?h()(e,p()(i)):d()(t=ne(Object(i))).call(t,(function(r){y()(e,r,s()(i,r))}))}return e}function ie(e){var r=(0,G.useContext)(N.FormStoreContext),n=(0,G.useContext)(N.FormOptionsContext),t=(0,G.useState)(new(R())),i=k()(t,2),o=i[0],u=i[1],l=(0,G.useState)({}),a=k()(l,2),c=a[0],s=a[1],f=(0,G.useRef)(!0),d=e.Fields,v=e.widgets,p=e.watch,b=e.onPropertiesChange,h=e.customRender,m=te(te({},W.h),d),y=n.onValuesChange,j=new K((function(){x()}));(0,G.useEffect)((function(){if(r){var e=r.subscribeProperties((function(e,r){s(e),f.current||X(e,r)||b&&b(e,r)}));return function(){e()}}}),[]),(0,G.useEffect)((function(){r&&null!==e&&void 0!==e&&e.properties&&(r.setProperties(null===e||void 0===e?void 0:e.properties),f.current=!1)}),[A()(null===e||void 0===e?void 0:e.properties)]),(0,G.useEffect)((function(){if(c)return x(),P(),function(){null===r||void 0===r||r.unsubscribeFormGlobal()}}),[A()(c)]);var P=function(){var e;null===(e=E()(p||{}))||void 0===e||B()(e).call(e,(function(e){var n=k()(e,2),t=n[0],i=n[1];"function"===typeof i?null===r||void 0===r||r.subscribeFormGlobal(t,i):"object"===q()(i)&&("function"===typeof i.handler&&(null===r||void 0===r||r.subscribeFormGlobal(t,i.handler)),i.immediate&&i.handler(null===r||void 0===r?void 0:r.getFieldValue(t),null===r||void 0===r?void 0:r.getLastValue(t)))}))},x=function(){var e=new(R()),r=function r(n,t){for(var i in n){var o=n[i];if("properties"!==i){var u,l=t?Z()(u="".concat(t,".")).call(u,i):i,a=w(o);e.set(l,a)}else if(o instanceof Array)for(var c=0;c<(null===o||void 0===o?void 0:o.length);c++){var s;r(o[c],Z()(s="".concat(t,".")).call(s,c))}else for(var f in o){var d;r(o[f],Z()(d="".concat(t,".")).call(d,f))}}};for(var n in c){r(c[n],n)}u(e)},w=function(e){if("string"===typeof e){var n,t=new RegExp("{{s*.*?s*}}","gi"),i=null===e||void 0===e||null===(n=e.match(t))||void 0===n?void 0:n[0];if(i){var o,u=null===i||void 0===i?void 0:i.replace(/\{\{|\}\}|\s*/g,"");return u=null===(o=u)||void 0===o?void 0:o.replace(/\$form/g,"store && store.getFieldValue()"),new Function("store","return "+u)(r)}return e}return e},O=function e(r){return r instanceof Array?null===r||void 0===r?void 0:B()(r).call(r,(function(r){var n=r.widget,t=r.widgetProps,i=null===v||void 0===v?void 0:v[n];if(i)return H().createElement(i,F()({},t,{children:e(null===t||void 0===t?void 0:t.children)}))})):r},C=function(e,r,n,t){var i;if(h)return h(e,r,n,t);var o=(n||{}).path;return e instanceof Array?null===e||void 0===e?void 0:B()(e).call(e,(function(e,n){return r({name:"[".concat(n,"]"),field:e,path:o},n)})):null===(i=E()(e||{}))||void 0===i?void 0:B()(i).call(i,(function(e,n){var t=k()(e,2),i=t[0],u=t[1];return r({name:i,field:u,path:o},n)}))};return C(c,(function e(n,t){var i=n||{},u=i.name,l=i.field,a=function(e,r){return void 0===e?e:(0,N.isListItem)(e)?r?Z()(n="".concat(r)).call(n,e):e:r?Z()(t="".concat(r,".")).call(t,e):e;var n,t}(u,i.path),c=function(e,r){var n;return _()(null===(n=E()(e||{}))||void 0===n?void 0:B()(n).call(n,(function(n){var t,i,u=k()(n,1)[0],l=r?Z()(t="".concat(r,".")).call(t,u):u;return[u,null!==(i=o.get(l))&&void 0!==i?i:e[u]]})))}(l,a),s=c.readOnly,f=c.readOnlyWidget,d=c.readOnlyRender,p=(c.hidden,c.widgetProps),b=c.widget,h=c.properties,P=g()(c,Y),x=j.addAfter(y),w=function(e,r){return e?"List.Item":r instanceof Array?"Form.List":"Form.Item"}(s,h),I=m[w],R=b&&(null===v||void 0===v?void 0:v[b]);if(!o.get("".concat(a,".hidden"))&&I&&c){var L=p||{},A=L.children,S=g()(L,ee),V=null===r||void 0===r?void 0:r.getFieldValue(),T=te(te(te({},n),S),{},{formvalues:V,store:r});if(!0===s){var M=f&&(null===v||void 0===v?void 0:v[f]),G=(P.rules,P.initialValue,g()(P,re));return H().createElement(I,F()({key:u},"Form.Item"===w?P:G),null!==d&&void 0!==d?d:void 0!==M&&H().createElement(M,T))}return"object"===q()(h)?H().createElement(I,F()({key:u},P,{name:u,onValuesChange:x}),C(h,e,{name:u,path:a,field:c},t)):H().createElement(I,F()({key:u},P,{name:u,onValuesChange:x}),R?H().createElement(R,T,O(A)):null)}}))}},455:function(e,r,n){n.d(r,{Z:function(){return S}});var t=n(615),i=n.n(t),o=n(706),u=n.n(o),l=n(829),a=n.n(l),c=n(739),s=n.n(c),f=n(299),d=n.n(f),v=n(43),p=n.n(v),b=n(610),h=n.n(b),m=n(998),y=n.n(m),j=n(250),g=n.n(j),P=n(93),F=n.n(P),x=n(579),q=n.n(x),w=n(689),O=n.n(w),C=n(374),k=n(685),I=["store","schema","watch","widgets","Fields","children","onPropertiesChange","customRender"],R=["properties"];function L(e,r){var n=i()(e);if(u()){var t=u()(e);r&&(t=a()(t).call(t,(function(r){return s()(e,r).enumerable}))),n.push.apply(n,t)}return n}function A(e){for(var r=1;r<arguments.length;r++){var n,t,i=null!=arguments[r]?arguments[r]:{};r%2?d()(n=L(Object(i),!0)).call(n,(function(r){F()(e,r,i[r])})):p()?h()(e,p()(i)):d()(t=L(Object(i))).call(t,(function(r){y()(e,r,s()(i,r))}))}return e}function S(e){var r=e.store,n=e.schema,t=e.watch,i=e.widgets,o=e.Fields,u=(e.children,e.onPropertiesChange),l=e.customRender,a=q()(e,I),c=n.properties,s=q()(n,R),f=A(A({},a),s);return O().createElement(C.Form,g()({store:r},f),O().createElement(k.Z,{customRender:l,onPropertiesChange:u,properties:c,watch:t,widgets:i,Fields:o}))}},635:function(e,r,n){n.d(r,{V:function(){return o}});var t=n(689),i=n(113);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.useMemo)((function(){return new i.H(e)}),[])}},623:function(e){e.exports=require("@babel/runtime-corejs3/core-js/instance/concat")},829:function(e){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},299:function(e){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},610:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/define-properties")},998:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/define-property")},739:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},43:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},706:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},615:function(e){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},349:function(e){e.exports=require("@babel/runtime-corejs3/helpers/classCallCheck")},606:function(e){e.exports=require("@babel/runtime-corejs3/helpers/createClass")},93:function(e){e.exports=require("@babel/runtime-corejs3/helpers/defineProperty")},250:function(e){e.exports=require("@babel/runtime-corejs3/helpers/extends")},579:function(e){e.exports=require("@babel/runtime-corejs3/helpers/objectWithoutProperties")},768:function(e){e.exports=require("@babel/runtime-corejs3/helpers/typeof")},689:function(e){e.exports=require("react")},374:function(e){e.exports=require("react-easy-formcore")}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,{a:r}),r},n.d=function(e,r){for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};return function(){n.r(t),n.d(t,{FormRenderStore:function(){return o.H},RenderFormChildren:function(){return r.Z},defaultFields:function(){return i.h},useFormRenderStore:function(){return u.V}});var e=n(455),r=n(685),i=n(748),o=n(113),u=n(635),l=n(374),a={};for(var c in l)["default","RenderFormChildren","defaultFields","FormRenderStore","useFormRenderStore"].indexOf(c)<0&&(a[c]=function(e){return l[e]}.bind(0,c));n.d(t,a),t.default=e.Z}(),t}()}));